<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>图片放大特效</title>
    <style>
      .box {
        width: 350px;
        height: 350px;
        border: 1px solid #ccc;
        position: relative;
      }
      .big {
        width: 400px;
        height: 400px;
        position: absolute;
        top: 0;
        left: 360px;
        border: 1px solid #ccc;
        overflow: hidden;
        display: none;
      }
      .mask {
        width: 175px;
        height: 175px;
        background: rgba(255, 255, 0, 0.4);
        position: absolute;
        top: 0;
        left: 0;
        cursor: move;
        display: none;
      }
      .small {
        position: relative;
      }
      .box img {
        vertical-align: top;
      }
      #bigBox img {
        position: absolute;
      }
    </style>
  </head>
  <body>
    <div class="box" id="box">
      <div id="smallBox" class="small">
        <img src="images/small.jpg" />
        <div id="mask" class="mask"></div>
      </div>
      <div id="bigBox" class="big">
        <img id="bigImg" src="images/big.jpg" />
      </div>
    </div>
    <script>
      // 需求：鼠标经过盒子 显示遮罩和大图 鼠标移动的时候 让遮罩跟着移动让大图按照比例移动

      // 1.鼠标经过小盒子 显示遮罩和大图

      // 2.鼠标离开小盒子 隐藏遮罩和大图

      // 3.鼠标移动的时候，让黄色的盒子跟着鼠标移动

      // (1)计算鼠标在盒子内的坐标

      // (2)计算遮罩中鼠标的位置，减去盒子高度的一半，就是mask的最终left和top值
      // (3)mask移动的距离

      // 限定遮罩可移动范围
      // 遮挡层的最大移动距离，x和y相同

      // (1)如果x坐标小于0就让他停在0的位置

      // (2)如果x坐标大于最大移动距离就让他停在这个位置

      // (3)y坐标处理方法同x坐标

      //  修改遮罩的显示位置

      // 4.大图片的移动距离 = 遮挡层移动距离 * 大图片最大移动距离 / 遮挡层的最大移动距离
      // 按照比例移动大图 大图片能够移动的总距离 = 大图的宽度 - 大盒子的宽度

      // 遮罩能够移动的总距离 = 小盒子的宽度 - 遮罩的宽度，为maskMax;
      // 计算移动比例rate = 大图片能够移动的总距离/遮罩能够移动的总距离

      // 设置大图片当前的位置 = rate * 遮罩当前的位置
    </script>
  </body>
</html>
